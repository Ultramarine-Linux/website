---
import CopyIcon from "../icons/CopyIcon.astro";
import XIcon from "../icons/XIcon.astro";
---

<dialog class="px-8 py-2 bg-gray-900 rounded-md">
  <button autofocus class="flex items-end justify-end w-full">
    <XIcon />
  </button>
  <h1 class="max-w-2xl mt-4">
    Use the following command to install Ultramarine on top of your existing Fedora installation.
  </h1>
  <div class="mt-2 mb-4 self-center flex items-center justify-center w-full">
    <!-- code block for copying command -->
    <div
      class="inline-flex items-center bg-gray-300 dark:bg-gray-800 rounded-xl"
    >
      <div
        class="p-6 bg-gray-200 dark:text-gray-300 dark:bg-gray-700 rounded-xl"
      >
        <p id="migrate-script" class="font-mono">
          bash &lt;(curl -s https://ultramarine-linux.org/migrate.sh)
        </p>
      </div>
      <!-- add a button to copy the text next to the code block -->
      <div
        class="relative px-3 py-4 mx-1 dark:bg-gray-800 cursor-pointer rounded-xl"
        onclick="copyEvent('migrate-script')"
      >
        <button
          type="button"
          class="flex flex-row gap-2 items-center"
          aria-label="Copy to clipboard button"
        >
          <span class="hidden">Copy</span>
          <CopyIcon />
        </button>
      </div>
    </div>
  </div>
</dialog>
<button id="migrationscript" class="mt-2 text-gray-400">Or use the Fedora migration script</button>

<style>
  dialog::backdrop {
    backdrop-filter: blur(6px);
  }
</style>
