---
import BaseLayout from "../layouts/BaseLayout.astro";

import Hero from "../components/sections/Hero.astro";
import WhyUltramarine from "../components/sections/WhyUltramarine.astro";
import TestimonialsAndFAQs from "../components/sections/TestimonialsAndFAQs.astro";
import FedoraMigrationScriptDialog from "../components/sections/FedoraMigrationScriptDialog.astro";

import DownloadIcon from "../components/icons/DownloadIcon.tsx";
import WavyDivider from "../../public/divider_1.svg";
import UmDivider from "../../public/divider_2.svg";
---

<BaseLayout>
  <div class="flex flex-col">
    <div>
      <Hero />

      <div class="w-full overflow-hidden self-center hidden md:block">
        <WavyDivider class="w-full" />
      </div>

      <WhyUltramarine />

      <div class="w-full overflow-hidden self-center hidden lg:block">
        <UmDivider class="w-full" />
      </div>

      <TestimonialsAndFAQs />

      <div
        class="relative py-48 max-w-(--breakpoint-2xl) mx-auto px-8 md:px-16 overflow-x-hidden"
      >
        <div class="flex flex-col items-center relative z-10">
          <h1 class="text-center font-bold text-2xl md:text-4xl mb-6">
            Ready to do your thing?
          </h1>
          <a
            href="/download"
            class="flex flex-row gap-2 items-center text-white font-medium text-xl py-2 px-6 rounded-xl bg-accent-600 hover:bg-accent-700 transition-colors"
          >
            <DownloadIcon />
            Get Ultramarine
          </a>
          <FedoraMigrationScriptDialog />
        </div>
        <div
          class="absolute inset-0 flex items-center justify-center opacity-50 mb-20"
        >
          <div
            class="absolute bottom-24 left-80 w-[350px] h-[200px] rotate-30 bg-blue-600 rounded-full filter blur-3xl opacity-50 mix-blend-multiply animate-blob"
          >
          </div>
          <div
            class="absolute bottom-12 right-96 w-[300px] h-[210px] -rotate-40 bg-blue-500 rounded-full filter blur-3xl opacity-40 mix-blend-multiply animate-blob2 animation-delay-2000"
          >
          </div>
          <div
            class="absolute top-48 w-[450px] h-[220px] bg-teal-500 rounded-full filter blur-3xl opacity-60 mix-blend-multiply animate-blob3 animation-delay-4000"
          >
          </div>
        </div>
      </div>
    </div>
  </div>
</BaseLayout>

<script is:inline>
  function copyEvent(id) {
    var str = document.getElementById(id);
    window.getSelection().selectAllChildren(str);
    document.execCommand("Copy");
  }

  const dialog = document.querySelector("dialog");
  const showButton = document.getElementById("migrationscript");
  const closeButton = document.querySelector("dialog button");

  // "Show the dialog" button opens the dialog modally
  showButton.addEventListener("click", () => {
    dialog.showModal();
  });

  // "Close" button closes the dialog
  closeButton.addEventListener("click", () => {
    dialog.close();
  });
</script>
